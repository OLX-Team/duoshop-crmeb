(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-users-order_confirm-index~pages-users-order_list-index"],{3590:function(t,i,e){"use strict";e.d(i,"b",(function(){return a})),e.d(i,"c",(function(){return n})),e.d(i,"a",(function(){}));var a=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("v-uni-view",{style:t.viewColor},[a("v-uni-view",{staticClass:"add_invoicing",class:1==t.invoice.invoice?"on":""},[a("v-uni-view",{staticClass:"title"},[t._v("选择发票"),a("v-uni-text",{staticClass:"iconfont icon-guanbi",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.close.apply(void 0,arguments)}}})],1),a("v-uni-form",{attrs:{"report-submit":"true"},on:{submit:function(i){arguments[0]=i=t.$handleEvent(i),t.formSubmit.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"panel"},["1"==t.receipt_title_type?a("v-uni-view",{staticClass:"acea-row row-middle"},[a("v-uni-view",[t._v("发票类型")]),a("v-uni-input",{attrs:{name:"receipt_type",value:t.typeName,disabled:"true"}})],1):t._e(),"2"==t.receipt_title_type?a("v-uni-view",{staticClass:"acea-row row-middle"},[a("v-uni-view",[t._v("发票类型")]),a("v-uni-input",{attrs:{name:"receipt_type",value:t.typeName,disabled:"true"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.callType.apply(void 0,arguments)}}}),a("v-uni-text",{staticClass:"iconfont icon-xiangyou"})],1):t._e(),a("v-uni-view",{staticClass:"acea-row row-middle"},[a("v-uni-view",[t._v("抬头类型")]),a("v-uni-radio-group",{attrs:{name:"receipt_title_type"},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.changeHeader.apply(void 0,arguments)}}},[a("v-uni-label",[a("v-uni-radio",{attrs:{value:"1",checked:"1"==t.receipt_title_type}}),a("v-uni-text",[t._v("个人")])],1),a("v-uni-label",[a("v-uni-radio",{attrs:{value:"2",checked:"2"==t.receipt_title_type}}),a("v-uni-text",[t._v("企业")])],1)],1)],1),a("v-uni-view",{staticClass:"acea-row row-middle"},[a("v-uni-view",[t._v("发票抬头")]),a("v-uni-input",{attrs:{name:"receipt_title",value:t.receipt_title,maxlength:20,placeholder:"需要开具发票的企业名称"}}),a("v-uni-text",{staticClass:"iconfont icon-xiangyou",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.callTitle.apply(void 0,arguments)}}})],1),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:"2"==t.receipt_title_type,expression:"receipt_title_type == '2'"}],staticClass:"acea-row row-middle"},[a("v-uni-view",[t._v("税号")]),a("v-uni-input",{attrs:{name:"duty_paragraph",value:t.duty_paragraph,placeholder:"纳税人识别号"}})],1),a("v-uni-view",{staticClass:"acea-row row-middle"},[a("v-uni-view",[t._v("邮箱")]),a("v-uni-input",{attrs:{name:"email",value:t.email,placeholder:"您的联系邮箱"}})],1)],1),a("v-uni-view",{directives:[{name:"show",rawName:"v-show",value:"2"==t.receipt_title_type&&"2"==t.receipt_type,expression:"receipt_title_type == '2' && receipt_type == '2'"}],staticClass:"panel"},[a("v-uni-view",{staticClass:"acea-row row-middle",staticStyle:{"border-top":"1px solid #EEEEEE"}},[a("v-uni-view",[t._v("开户银行")]),a("v-uni-input",{attrs:{name:"bank_name",value:t.bank_name,placeholder:"您的开户银行"}})],1),a("v-uni-view",{staticClass:"acea-row row-middle"},[a("v-uni-view",[t._v("银行账号")]),a("v-uni-input",{attrs:{name:"bank_code",value:t.bank_code,placeholder:"您的银行账号"}})],1),a("v-uni-view",{staticClass:"acea-row row-middle"},[a("v-uni-view",[t._v("企业地址")]),a("v-uni-input",{attrs:{name:"address",value:t.address,placeholder:"您所在的企业地址"}})],1),a("v-uni-view",{staticClass:"acea-row row-middle"},[a("v-uni-view",[t._v("企业电话")]),a("v-uni-input",{attrs:{name:"tel",value:t.tel,placeholder:"您的企业电话"}})],1)],1),a("v-uni-view",{staticClass:"btn-wrap"},[a("v-uni-button",{staticClass:"button",attrs:{"form-type":"submit"}},[t._v("提交申请")]),a("v-uni-button",{staticClass:"back",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.noInvoice.apply(void 0,arguments)}}},[t._v("不开发票")])],1)],1),a("v-uni-view",{class:{mask:t.popupType||t.popupTitle}}),a("v-uni-view",{staticClass:"popup",class:{on:t.popupType}},[a("v-uni-view",{staticClass:"title"},[t._v("发票类型选择"),a("v-uni-text",{staticClass:"iconfont icon-guanbi",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.closeType.apply(void 0,arguments)}}})],1),a("v-uni-scroll-view",{attrs:{"scroll-y":"true"}},[a("v-uni-radio-group",{attrs:{name:"invoice-type"},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.changeType.apply(void 0,arguments)}}},t._l(t.invoiceTypeList,(function(i){return a("v-uni-label",{key:i.type,staticClass:"acea-row row-middle"},[a("v-uni-view",{staticClass:"text"},[a("v-uni-view",[t._v(t._s(i.name))]),a("v-uni-view",{staticClass:"info"},[t._v(t._s(i.info))])],1),a("v-uni-radio",{attrs:{value:i.type,checked:t.receipt_type==i.type}})],1)})),1)],1),a("v-uni-button",{on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.closeType.apply(void 0,arguments)}}},[t._v("确定")])],1),a("v-uni-view",{staticClass:"popup",class:{on:t.popupTitle}},[a("v-uni-view",{staticClass:"title"},[t._v("抬头选择"),a("v-uni-text",{staticClass:"iconfont icon-guanbi",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.closeTitle.apply(void 0,arguments)}}})],1),t.invoiceList.length>0?a("v-uni-scroll-view",{attrs:{"scroll-y":"true"}},[a("v-uni-radio-group",{attrs:{name:"invoice-title"},on:{change:function(i){arguments[0]=i=t.$handleEvent(i),t.changeTitle.apply(void 0,arguments)}}},[t._l(t.invoiceList,(function(i){return[a("v-uni-label",{key:i.user_receipt_id,staticClass:"acea-row row-middle"},[a("v-uni-view",{staticClass:"text"},[a("v-uni-view",{staticClass:"acea-row row-middle"},[a("v-uni-view",{staticClass:"name"},[t._v(t._s(i.receipt_title))]),i.is_default?a("v-uni-view",{staticClass:"label"},[t._v("默认")]):t._e()],1),a("v-uni-view",{staticClass:"type",class:{special:"2"==i.receipt_type}},[t._v(t._s(1==i.receipt_type?"普通发票":"专用发票"))])],1),a("v-uni-radio",{attrs:{value:i.user_receipt_id,checked:i.user_receipt_id==t.invoice_id}})],1)]}))],2)],1):a("v-uni-view",{staticClass:"nothing"},[a("v-uni-image",{attrs:{src:e("8d5a")}}),a("v-uni-view",{staticClass:"nothing_text"},[t._v("您还没有添加发票信息哟~")])],1),t.invoice.add?a("v-uni-button",{on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.addTitle.apply(void 0,arguments)}}},[t._v("添加新的抬头")]):a("v-uni-button",{staticClass:"btn-default",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.close.apply(void 0,arguments)}}},[t._v("不开发票")])],1)],1),a("v-uni-view",{staticClass:"mask",attrs:{catchtouchmove:"true",hidden:0==t.invoice.invoice},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.close.apply(void 0,arguments)}}})],1)},n=[]},4258:function(t,i,e){"use strict";e("7a82");var a=e("4ea4").default;Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,e("d401"),e("d3b7"),e("25f0"),e("7db0"),e("ac1f"),e("00b4");var n=a(e("5530")),o=e("6859"),r=e("26cb"),s={props:{invoice:{type:Object,default:function(){return{invoice:!1,mer_id:0}}}},computed:(0,n.default)({},(0,r.mapGetters)(["viewColor"])),data:function(){return{id:"",receipt_title_type:"1",receipt_type:"1",drawer_phone:"",receipt_title:"",duty_paragraph:"",tel:"",address:"",bank_name:"",bank_code:"",is_default:0,email:"",isDefault:[],typeName:"增值税电子普通发票",popupType:!1,popupTitle:!1,invoiceTypeList:[{type:"1",name:"增值税电子普通发票",info:"默认发送至所提供的电子邮件"},{type:"2",name:"增值税专用发票",info:"纸质发票开出后将以邮寄形式交付"}],special_invoice:!0,invoice_func:!0,invoiceList:[],invoice_checked:"",invoice_id:"",order_id:"",news:"",cartId:"",pinkId:"",couponId:"",addressId:"",invoiceData:{},formvalidate:!1}},watch:{},onLoad:function(t){this.news=t.news,this.cartId=t.cartId,this.pinkId=t.pinkId,this.couponId=t.couponId,this.addressId=t.addressId,"false"==t.special_invoice&&this.$set(this,"special_invoice",!1)},onShow:function(){this.getInvoiceDefault(),this.popupTitle=!1},methods:{getInvoiceList:function(){var t=this;(0,o.invoice)().then((function(i){for(var e=0;e<i.data.length;e++)i.data[e].user_receipt_id=i.data[e].user_receipt_id.toString(),i.data[e].is_default&&(t.invoice_id=i.data[e].user_receipt_id);t.$set(t,"invoiceList",i.data)})).catch((function(i){t.$util.Tips({title:i})}))},getInvoiceDefault:function(){var t=this;(0,o.invoice)({is_default:1}).then((function(i){var e=i.data[0];t.typeName="1"==e.receipt_type?"增值税电子普通发票":"增值税专用发票",t.receipt_title_type=e.receipt_title_type,t.receipt_type=e.receipt_type,t.receipt_title=e.receipt_title,t.email=e.email,t.duty_paragraph=e.duty_paragraph,t.bank_name=e.bank_name,t.bank_code=e.bank_code,t.address=e.address,t.tel=e.tel,t.invoice_id=e.user_receipt_id.toString()})).catch((function(t){}))},getInvoiceDetail:function(t){var i=this;(0,o.invoiceDetail)(t).then((function(t){uni.hideLoading(),i.receipt_title_type=t.data.receipt_title_type,i.receipt_type=t.data.receipt_type,i.typeName="1"==i.receipt_type?"增值税电子普通发票":"增值税专用发票",i.receipt_title=t.data.receipt_title,i.email=t.data.email,i.duty_paragraph=t.data.duty_paragraph,i.bank_name=t.data.bank_name,i.bank_code=t.data.bank_code,i.address=t.data.address,i.tel=t.data.tel,i.is_default=t.data.is_default})).catch((function(t){uni.hideLoading(),i.$util.Tips({title:t})}))},close:function(){this.formvalidate?this.$emit("changeInvoiceClose",this.invoiceData):this.$emit("changeInvoiceClose","")},noInvoice:function(){uni.setStorage({key:"invoice_Data",data:{},success:function(){}}),this.$emit("changeInvoiceClose","")},callType:function(){this.popupType=!0},changeType:function(t){var i=this;this.receipt_type=t.detail.value,this.typeName=this.invoiceTypeList.find((function(t){return t.type==i.receipt_type})).name},closeType:function(){this.popupType=!1},callTitle:function(){this.popupTitle=!0},changeTitle:function(t){this.invoice_id=t.detail.value.toString(),this.getInvoiceDetail(t.detail.value),this.popupTitle=!1},addTitle:function(){this.popupType=!1,this.popupTitle=!1,uni.navigateTo({url:"/pages/users/user_invoice_form/index?mer_id="+this.invoice.mer_id})},closeTitle:function(){this.popupTitle=!1},changeHeader:function(t){this.receipt_title_type=t.detail.value,1==t.detail.value&&(this.receipt_type=1,this.typeName="增值税电子普通发票"),this.receipt_type},changeDefault:function(t){this.is_default=t.detail.value.length?1:0},formSubmit:function(t){var i=t.detail.value;if(!i.receipt_title_type)return this.$util.Tips({title:"请填写发票抬头"});if(!i.email)return this.$util.Tips({title:"请填写邮箱"});if(!/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(i.email))return this.$util.Tips({title:"请输入正确的邮箱"});if(2==i.receipt_title_type){if(!i.duty_paragraph)return this.$util.Tips({title:"请填写税号"});if("增值税专用发票"==i.receipt_type){if(!i.bank_name)return this.$util.Tips({title:"请填写开户行"});if(!i.bank_code)return this.$util.Tips({title:"请填写银行账号"});if(!i.address)return this.$util.Tips({title:"请填写企业地址"});if(!i.tel)return this.$util.Tips({title:"请填写企业电话"});if(!/^(\d{9}|\d{14}|\d{18})$/.test(i.bank_code))return this.$util.Tips({title:"请输入正确的银行账号"});if(!/(^(\d{3,4})?\d{7,8})$|(13[0-9]{9})/.test(i.tel))return this.$util.Tips({title:"请输入正确的电话号码"})}}this.formvalidate=!0,i.mer_id=this.invoice.mer_id,i.receipt_type=this.receipt_type,this.invoiceData=i,uni.setStorage({key:"invoice_Data",data:[this.invoiceData],success:function(){}}),this.$emit("changeInvoiceClose",this.invoiceData)}}};i.default=s},"68b0":function(t,i,e){"use strict";e.r(i);var a=e("4258"),n=e.n(a);for(var o in a)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return a[t]}))}(o);i["default"]=n.a},"8d5a":function(t,i,e){t.exports=e.p+"static/img/noInvoice.10bd0fdf.png"},"99c9":function(t,i,e){var a=e("c1be");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=e("4f06").default;n("5ccd9cb1",a,!0,{sourceMap:!1,shadowMode:!1})},ab68:function(t,i,e){"use strict";e.r(i);var a=e("3590"),n=e("68b0");for(var o in n)["default"].indexOf(o)<0&&function(t){e.d(i,t,(function(){return n[t]}))}(o);e("d1b2");var r=e("f0c5"),s=Object(r["a"])(n["default"],a["b"],a["c"],!1,null,"25ba6b16",null,!1,a["a"],void 0);i["default"]=s.exports},c1be:function(t,i,e){var a=e("24fb");i=a(!1),i.push([t.i,'@charset "UTF-8";\n/**\n * 这里是uni-app内置的常用样式变量\n *\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\n *\n */\n/**\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\n *\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */.add_invoicing[data-v-25ba6b16]{position:fixed;bottom:0;width:100%;left:0;background-color:#fff;z-index:77;border-radius:%?16?% %?16?% 0 0;padding-bottom:%?20?%;-webkit-transform:translate3d(0,100%,0);transform:translate3d(0,100%,0);transition:all .3s cubic-bezier(.25,.5,.5,.9)}.add_invoicing.on[data-v-25ba6b16]{-webkit-transform:translateZ(0);transform:translateZ(0)}.add_invoicing .title[data-v-25ba6b16]{font-size:%?32?%;font-weight:700;text-align:center;height:%?123?%;line-height:%?123?%;position:relative}.add_invoicing .title .iconfont[data-v-25ba6b16]{position:absolute;right:%?30?%;color:#8a8a8a;font-size:%?35?%}uni-form[data-v-25ba6b16]{font-size:%?28?%;color:#282828}uni-form uni-input[data-v-25ba6b16], uni-form uni-radio-group[data-v-25ba6b16]{flex:1;text-align:right}uni-form uni-input[data-v-25ba6b16]{font-size:%?26?%}uni-form uni-label[data-v-25ba6b16]{margin-right:%?50?%}uni-form uni-radio[data-v-25ba6b16]{margin-right:%?8?%}uni-form uni-checkbox-group[data-v-25ba6b16]{height:%?90?%}uni-form uni-checkbox[data-v-25ba6b16]{margin-right:%?20?%}[data-v-25ba6b16] uni-radio .uni-radio-input.uni-radio-input-checked,[data-v-25ba6b16] uni-radio .wx-radio-input.wx-radio-input-checked{border:1px solid var(--view-theme)!important;background-color:var(--view-theme)!important}uni-form uni-button[data-v-25ba6b16]{height:%?76?%;border-radius:%?38?%;margin:%?16?% %?30?%;background-color:var(--view-theme);font-size:%?30?%;line-height:%?76?%;color:#fff}.panel[data-v-25ba6b16]{padding-right:%?30?%;padding-left:%?30?%;background-color:#fff}.panel ~ .panel[data-v-25ba6b16]{margin-top:%?14?%}.panel .acea-row[data-v-25ba6b16]{height:%?90?%}.panel .acea-row ~ .acea-row[data-v-25ba6b16]{border-top:1px solid #eee}.input-placeholder[data-v-25ba6b16]{font-size:%?26?%;color:#bbb}.icon-xiangyou[data-v-25ba6b16]{margin-left:%?25?%;font-size:%?18?%;color:#bfbfbf}.btn-wrap[data-v-25ba6b16]{width:100%;border-top:1px solid #f5f5f5}.btn-wrap .button[data-v-25ba6b16]{height:%?86?%;line-height:%?86?%;border-radius:%?50?%}.btn-wrap .back[data-v-25ba6b16]{border-radius:%?50?%;height:%?86?%;line-height:%?86?%;border:%?1?% solid var(--view-theme);background:none;color:var(--view-theme)}.popup[data-v-25ba6b16]{position:fixed;bottom:0;left:0;z-index:99;width:100%;padding-bottom:%?30?%;border-top-left-radius:%?16?%;border-top-right-radius:%?16?%;background-color:#f5f5f5;overflow:hidden;-webkit-transform:translateY(100%);transform:translateY(100%);transition:.3s}.popup.on[data-v-25ba6b16]{-webkit-transform:translateY(0);transform:translateY(0)}.popup .title[data-v-25ba6b16]{position:relative;height:%?137?%;font-size:%?32?%;line-height:%?137?%;text-align:center}.popup uni-scroll-view[data-v-25ba6b16]{height:%?466?%;padding-right:%?30?%;padding-left:%?30?%;box-sizing:border-box}.popup uni-label[data-v-25ba6b16]{padding:%?35?% %?30?%;border-radius:%?16?%;margin-bottom:%?20?%;background-color:#fff}.popup .text[data-v-25ba6b16]{flex:1;min-width:0;font-size:%?28?%;color:#282828}.popup .info[data-v-25ba6b16]{margin-top:%?10?%;font-size:%?22?%;color:#909090}.popup .icon-guanbi[data-v-25ba6b16]{position:absolute;top:50%;right:%?30?%;z-index:2;-webkit-transform:translateY(-50%);transform:translateY(-50%);font-size:%?30?%;color:#707070;cursor:pointer}.popup uni-button[data-v-25ba6b16]{height:%?86?%;border-radius:%?43?%;margin-right:%?30?%;margin-left:%?30?%;background-color:var(--view-theme);font-size:%?30?%;line-height:%?86?%;color:#fff}uni-button[data-v-25ba6b16]{margin-top:%?30?%}uni-button.btn-default[data-v-25ba6b16]{background-color:initial;color:var(--view-theme);border:1px solid var(--view-theme)}.popup .text .acea-row[data-v-25ba6b16]{display:inline-flex;max-width:100%}.popup .name[data-v-25ba6b16]{flex:1;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-size:%?30?%}.popup .label[data-v-25ba6b16]{width:%?70?%;height:%?28?%;border:1px solid #e93323;margin-left:%?18?%;font-size:%?16?%;line-height:%?26?%;text-align:center;color:#e93323}.popup .type[data-v-25ba6b16]{width:%?124?%;height:%?42?%;margin-top:%?14?%;background-color:#fcf0e0;font-size:%?24?%;line-height:%?42?%;text-align:center;color:#d67300}.popup .type.special[data-v-25ba6b16]{background-color:#fde9e7;color:#e93323}.nothing[data-v-25ba6b16]{margin:%?50?% 0;text-align:center}.nothing uni-image[data-v-25ba6b16], .nothing uni-image[data-v-25ba6b16]{width:%?400?%;height:%?260?%}.nothing_text[data-v-25ba6b16]{margin-top:%?20?%;color:#999}',""]),t.exports=i},d1b2:function(t,i,e){"use strict";var a=e("99c9"),n=e.n(a);n.a}}]);