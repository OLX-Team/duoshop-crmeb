(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ccd9d10"],{"0da8a":function(t,e,n){"use strict";n("5f6d")},"0f9b":function(t,e,n){"use strict";n("1750")},1750:function(t,e,n){},"586e":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"divBox"},[n("el-card",{staticClass:"box-card mb20",attrs:{"body-style":{padding:"0 20px 20px"}}},[t.tabList.length>0?n("el-tabs",{model:{value:t.currentTab,callback:function(e){t.currentTab=e},expression:"currentTab"}},t._l(t.tabList,(function(t,e){return n("el-tab-pane",{key:e,attrs:{name:t.value,label:t.title}})})),1):t._e(),t._v(" "),n("el-form",{directives:[{name:"loading",rawName:"v-loading",value:t.fullscreenLoading,expression:"fullscreenLoading"}],ref:"formValidate",staticClass:"formValidate mt20",attrs:{rules:t.ruleValidate,model:t.formValidate,"label-width":"110px"},nativeOn:{submit:function(t){t.preventDefault()}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:1==t.currentTab,expression:"currentTab == 1"}]},[n("el-form-item",{attrs:{label:"活动名称",prop:"activity_name"}},[n("el-input",{staticClass:"selWidth",attrs:{size:"small",placeholder:"请输入活动名称"},model:{value:t.formValidate.activity_name,callback:function(e){t.$set(t.formValidate,"activity_name",e)},expression:"formValidate.activity_name"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"活动时间：",required:""}},[n("el-date-picker",{staticClass:"selWidth",attrs:{size:"small",type:"datetimerange",placement:"bottom-end",placeholder:"请选择活动时间","default-time":["00:00:00","23:59:59"]},on:{change:t.onchangeTime},model:{value:t.timeVal,callback:function(e){t.timeVal=e},expression:"timeVal"}}),t._v(" "),n("p",{staticClass:"desc mt10"},[t._v("设置活动氛围图在商城展示时间")])],1),t._v(" "),n("el-form-item",{attrs:{label:"活动氛围图："}},[n("div",{staticClass:"upLoadPicBox",on:{click:function(e){return t.modalPicTap("1","dan")}}},[t.formValidate.pic?n("div",{staticClass:"pictrue"},[n("img",{attrs:{src:t.formValidate.pic}})]):n("div",{staticClass:"upLoad"},[n("i",{staticClass:"el-icon-camera cameraIconfont"})])]),t._v(" "),n("p",{staticClass:"desc mt10"},[t._v("宽750px，高100px\n            "),n("el-popover",{attrs:{placement:"bottom",title:"","min-width":"200",trigger:"hover"}},[n("img",{staticStyle:{height:"270px"},attrs:{src:t.baseURL+"/statics/system/activityFrame.png",alt:""}}),t._v(" "),n("el-button",{attrs:{slot:"reference",type:"text"},slot:"reference"},[t._v("查看示例")])],1)],1)]),t._v(" "),n("el-form-item",{attrs:{label:"是否开启:"}},[n("el-switch",{attrs:{width:56,"active-value":1,"inactive-value":0,"active-text":"开启","inactive-text":"关闭"},model:{value:t.formValidate.is_show,callback:function(e){t.$set(t.formValidate,"is_show",e)},expression:"formValidate.is_show"}})],1)],1),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:2==t.currentTab,expression:"currentTab == 2"}]},[n("el-form-item",{attrs:{"label-width":"0"}},[n("el-radio-group",{model:{value:t.formValidate.scope_type,callback:function(e){t.$set(t.formValidate,"scope_type",e)},expression:"formValidate.scope_type"}},[n("el-radio",{attrs:{label:0}},[t._v("全部商品参与")]),t._v(" "),n("el-radio",{attrs:{label:1}},[t._v("指定商品参与")]),t._v(" "),n("el-radio",{attrs:{label:2}},[t._v("指定分类参与")]),t._v(" "),n("el-radio",{attrs:{label:3}},[t._v("指定商户参与")])],1)],1),t._v(" "),1==t.formValidate.scope_type?n("el-form-item",{attrs:{"label-width":"0"}},[n("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.addGoods}},[t._v("添加商品")]),t._v(" "),n("el-button",{attrs:{size:"small",disabled:!t.multipleSelection.length},on:{click:t.batchDel}},[t._v("批量删除")])],1):t._e(),t._v(" "),1==t.formValidate.scope_type?n("el-form-item",{attrs:{"label-width":"0"}},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],ref:"tableList",staticStyle:{width:"100%"},attrs:{data:t.tableData.data,size:"mini"},on:{"selection-change":t.handleSelectionChange,"select-all":t.selectAll,select:t.selectOne}},[n("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),n("el-table-column",{attrs:{prop:"product_id",width:"90"},scopedSlots:t._u([{key:"header",fn:function(e){return[n("el-dropdown",{attrs:{szie:"mini"},on:{command:t.handleCommand}},[n("span",{staticClass:"el-dropdown-link"},[t._v("选择页"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.options,(function(e){return n("el-dropdown-item",{key:e.value,attrs:{command:e.value}},[t._v(t._s(e.label))])})),1)],1)]}}],null,!1,1537211165)}),t._v(" "),n("el-table-column",{attrs:{label:"商品图","min-width":"80"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("div",{staticClass:"demo-image__preview"},[n("el-image",{attrs:{src:t.row.image,"preview-src-list":[t.row.image]}})],1)]}}],null,!1,1825039654)}),t._v(" "),n("el-table-column",{attrs:{prop:"store_name",label:"商品名称","min-width":"200"}}),t._v(" "),n("el-table-column",{attrs:{prop:"price",label:"售价","min-width":"90"}}),t._v(" "),n("el-table-column",{attrs:{prop:"sales",label:"库存","min-width":"70"}}),t._v(" "),n("el-table-column",{attrs:{label:"操作","min-width":"140",fixed:"right",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}],null,!1,1945863928)})],1),t._v(" "),n("div",{staticClass:"block"},[n("el-pagination",{attrs:{"page-sizes":[20,40,60,80],"page-size":t.tableFrom.limit,"current-page":t.tableFrom.page,layout:"total, sizes, prev, pager, next, jumper",total:t.tableData.total},on:{"size-change":t.handleSizeChange,"current-change":t.pageChange}})],1)],1):t._e(),t._v(" "),2==t.formValidate.scope_type?n("el-form-item",{attrs:{label:"选择分类:",span:24,"label-width":"80px",prop:"cate_ids"}},[n("el-cascader",{staticClass:"selWidth",attrs:{props:t.props,options:t.categoryList,multiple:"","show-all-levels":!1,clearable:""},model:{value:t.formValidate.cate_ids,callback:function(e){t.$set(t.formValidate,"cate_ids",e)},expression:"formValidate.cate_ids"}})],1):t._e(),t._v(" "),3==t.formValidate.scope_type?n("el-form-item",{attrs:{label:"选择商户:",span:24,"label-width":"80px",prop:"mer_ids"}},[n("el-select",{staticClass:"selWidth",attrs:{placeholder:"请选择",clearable:"",multiple:"",filterable:""},model:{value:t.formValidate.mer_ids,callback:function(e){t.$set(t.formValidate,"mer_ids",e)},expression:"formValidate.mer_ids"}},t._l(t.merchantList,(function(t){return n("el-option",{key:t.mer_id,attrs:{label:t.mer_name,value:t.mer_id}})})),1)],1):t._e()],1)])],1),t._v(" "),n("el-card",{staticClass:"fixed-card"},[n("el-button",{directives:[{name:"show",rawName:"v-show",value:1==t.currentTab,expression:"currentTab == 1"}],attrs:{size:"small",type:"primary"},on:{click:function(e){t.currentTab="2"}}},[t._v("下一步")]),t._v(" "),n("el-button",{directives:[{name:"show",rawName:"v-show",value:2==t.currentTab,expression:"currentTab == 2"}],attrs:{size:"small"},on:{click:function(e){t.currentTab="1"}}},[t._v("上一步")]),t._v(" "),n("el-button",{directives:[{name:"show",rawName:"v-show",value:2==t.currentTab,expression:"currentTab == 2"}],attrs:{size:"small",type:"primary"},on:{click:function(e){return t.submitForm("formValidate")}}},[t._v("保存")])],1),t._v(" "),n("goodsList",{ref:"goodsList",on:{onSelectList:t.selectList}})],1)},r=[],i=(n("1c4c"),n("20d6"),n("6b54"),n("ac6a"),n("5df3"),n("4f7f"),n("75fc")),o=n("b7be"),s=n("c4c8"),c=n("bbcc"),l=n("83d6"),u=n("ecc0"),d={name:"addAtmosphere",data:function(){return{baseURL:c["a"].httpUrl||"http://localhost:8080",pickerOptions:{disabledDate:function(t){return t.getTime()>Date.now()}},props:{multiple:!0,emitPath:!1},roterPre:l["roterPre"],currentTab:"1",tabList:[{value:"1",title:"基础设置"},{value:"2",title:"使用范围"}],fullscreenLoading:!1,timeVal:"",formValidate:{activity_name:"",start_time:"",end_time:"",pic:"",cate_ids:[],mer_ids:[],is_show:0,scope_type:0,spu_ids:[]},ruleValidate:{activity_name:[{required:!0,message:"请输入名称",trigger:"blur"}]},listLoading:!1,selectGoods:!1,multipleSelection:[],categoryList:[],merchantList:[],tableData:{data:[],total:0},options:[{value:"all",label:"所有页"},{value:"one",label:"当前页"}],tableFrom:{page:1,limit:20,spu_ids:[]},ids:[]}},components:{goodsList:u["a"]},computed:{isEdit:function(){return!!this.$route.params.id}},mounted:function(){this.$route.params.id&&(this.setTagsViewTitle(),this.getInfo(this.$route.params.id)),this.getMerSelect(),this.getCategorySelect()},methods:{onchangeTime:function(t){this.timeVal=t,console.log(this.moment(t[0]).format("YYYY-MM-DD HH:mm:ss")),this.formValidate.start_time=t?this.moment(t[0]).format("YYYY-MM-DD HH:mm:ss"):"",this.formValidate.end_time=t?this.moment(t[1]).format("YYYY-MM-DD HH:mm:ss"):""},modalPicTap:function(t,e){var n=this;this.$modalUpload((function(t){n.formValidate.pic=t[0]}),t)},setTagsViewTitle:function(){var t="编辑氛围图",e=Object.assign({},this.tempRoute,{title:"".concat(t,"-").concat(this.$route.params.id)});this.$store.dispatch("tagsView/updateVisitedView",e)},getMerSelect:function(){var t=this;Object(s["Q"])().then((function(e){t.merchantList=e.data})).catch((function(e){t.$message.error(e.message)}))},getCategorySelect:function(){var t=this;Object(s["w"])({type:1}).then((function(e){t.categoryList=e.data})).catch((function(e){t.$message.error(e.message)}))},getInfo:function(t){var e=this;this.fullscreenLoading=!0,Object(o["d"])(t).then((function(t){var n=t.data;e.formValidate={activity_name:n.activity_name,start_time:n.start_time,end_time:n.end_time,cate_ids:n.cate_ids,mer_ids:n.mer_ids,spu_ids:n.spu_ids,pic:n.pic,is_show:n.is_show,scope_type:n.scope_type},e.fullscreenLoading=!1,e.timeVal=[new Date(t.data.start_time),new Date(t.data.end_time)],1==n.scope_type&&(e.$set(e.tableFrom,"spu_ids",n.spu_ids),e.getList(""))})).catch((function(t){e.$message.error(t.message),e.fullscreenLoading=!1}))},addGoods:function(){this.$refs.goodsList.dialogVisible=!0},selectList:function(t){var e,n;(this.listLoading=!0,(e=console).log.apply(e,Object(i["a"])(t)),this.tableFrom.spu_ids.length)?((n=this.tableFrom.spu_ids).push.apply(n,Object(i["a"])(t)),this.tableFrom.spu_ids=Object(i["a"])(new Set(this.tableFrom.spu_ids))):this.$set(this.tableFrom,"spu_ids",t);this.getList("")},getList:function(t){var e=this;this.tableFrom.page=t||this.tableFrom.page,Object(o["Ib"])({spu_ids:this.tableFrom.spu_ids.toString(),page:this.tableFrom.page,limit:this.tableFrom.limit}).then((function(t){var n;(e.tableData.data=t.data.list,e.tableData.total=t.data.count,"all"==e.selectAllPage)&&((n=e.multipleSelection).push.apply(n,Object(i["a"])(e.tableData.data)),e.multipleSelection.forEach((function(t){e.$refs.tableList.toggleRowSelection(t,!0)})));e.listLoading=!1})).catch((function(t){e.$message.error(t.message),e.listLoading=!1}))},handleDelete:function(t,e){this.tableData.data.splice(t,1);var n=this.tableFrom.spu_ids.findIndex((function(t){return t==e.product_id}));this.tableFrom.spu_ids.splice(n,1)},batchDel:function(){var t=this,e=this.tableData.data;this.$refs.tableList.selection.forEach((function(n,a){for(var r=0;r<t.tableFrom.spu_ids.length;r++){var i=t.tableFrom.spu_ids[r];i==n.spu_ids&&t.tableFrom.spu_ids.splice(r,1)}for(var o=0;o<e.length;o++){i=e[o].spu_id;i==n.spu_id&&e.splice(o,1)}t.multipleSelection=[]}))},handleSelectionChange:function(t){this.multipleSelection=t;var e=[];this.multipleSelection.map((function(t){e.push(t.spu_id)}))},selectAll:function(t){var e=t.map((function(t,e){return t.spu_id}));this.ids=Array.from(new Set([].concat(Object(i["a"])(this.ids),Object(i["a"])(e))))},selectOne:function(t,e){var n=t.map((function(t,e){return t.spu_id})),a=this.ids.findIndex((function(t){return t==e.spu_id}));this.ids.splice(a,1),this.ids=Array.from(new Set([].concat(Object(i["a"])(this.ids),Object(i["a"])(n))))},handleCommand:function(t){var e=this;this.$message("click on item "+t),this.selectAllPage="all"===t,this.$nextTick((function(){e.$refs.tableList.toggleAllSelection()}))},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){return!!t&&(e.formValidate.spu_ids=e.tableFrom.spu_ids.toString(),1==e.formValidate.scope_type&&""==e.formValidate.spu_ids?e.$message.error("请选择商品"):""==e.formValidate.pic?e.$message.error("请上传氛围图"):void(e.isEdit?Object(o["f"])(e.$route.params.id,e.formValidate).then((function(t){e.$message.success(t.message),e.$router.push({path:e.roterPre+"/marketing/atmosphere/list"})})).catch((function(t){e.$message.error(t.message)})):Object(o["O"])(e.formValidate).then((function(t){e.$message.success(t.message),e.$router.push({path:e.roterPre+"/marketing/atmosphere/list"})})).catch((function(t){e.$message.error(t.message)}))))}))},pageChange:function(t){this.tableFrom.page=t,this.getList("")},handleSizeChange:function(t){this.tableFrom.limit=t,this.getList("")}}},f=d,m=(n("0da8a"),n("2877")),p=Object(m["a"])(f,a,r,!1,null,"4e6a1c33",null);e["default"]=p.exports},"5f6d":function(t,e,n){},b7be:function(t,e,n){"use strict";n.d(e,"Fb",(function(){return r})),n.d(e,"Eb",(function(){return i})),n.d(e,"Ab",(function(){return o})),n.d(e,"zb",(function(){return s})),n.d(e,"yb",(function(){return c})),n.d(e,"Bb",(function(){return l})),n.d(e,"Cb",(function(){return u})),n.d(e,"Db",(function(){return d})),n.d(e,"N",(function(){return f})),n.d(e,"I",(function(){return m})),n.d(e,"J",(function(){return p})),n.d(e,"L",(function(){return b})),n.d(e,"K",(function(){return g})),n.d(e,"sb",(function(){return h})),n.d(e,"H",(function(){return v})),n.d(e,"o",(function(){return _})),n.d(e,"u",(function(){return y})),n.d(e,"m",(function(){return w})),n.d(e,"l",(function(){return L})),n.d(e,"n",(function(){return k})),n.d(e,"tb",(function(){return x})),n.d(e,"ub",(function(){return V})),n.d(e,"Pb",(function(){return S})),n.d(e,"r",(function(){return C})),n.d(e,"q",(function(){return $})),n.d(e,"v",(function(){return F})),n.d(e,"a",(function(){return T})),n.d(e,"Ob",(function(){return D})),n.d(e,"Lb",(function(){return z})),n.d(e,"Nb",(function(){return O})),n.d(e,"Kb",(function(){return j})),n.d(e,"Mb",(function(){return P})),n.d(e,"Hb",(function(){return A})),n.d(e,"Qb",(function(){return Y})),n.d(e,"p",(function(){return M})),n.d(e,"t",(function(){return N})),n.d(e,"s",(function(){return E})),n.d(e,"F",(function(){return I})),n.d(e,"x",(function(){return W})),n.d(e,"A",(function(){return H})),n.d(e,"B",(function(){return B})),n.d(e,"z",(function(){return R})),n.d(e,"C",(function(){return G})),n.d(e,"G",(function(){return U})),n.d(e,"E",(function(){return q})),n.d(e,"D",(function(){return J})),n.d(e,"w",(function(){return Q})),n.d(e,"y",(function(){return K})),n.d(e,"M",(function(){return X})),n.d(e,"eb",(function(){return Z})),n.d(e,"db",(function(){return tt})),n.d(e,"Jb",(function(){return et})),n.d(e,"W",(function(){return nt})),n.d(e,"Sb",(function(){return at})),n.d(e,"T",(function(){return rt})),n.d(e,"R",(function(){return it})),n.d(e,"S",(function(){return ot})),n.d(e,"Ib",(function(){return st})),n.d(e,"O",(function(){return ct})),n.d(e,"f",(function(){return lt})),n.d(e,"e",(function(){return ut})),n.d(e,"d",(function(){return dt})),n.d(e,"c",(function(){return ft})),n.d(e,"b",(function(){return mt})),n.d(e,"P",(function(){return pt})),n.d(e,"k",(function(){return bt})),n.d(e,"i",(function(){return gt})),n.d(e,"h",(function(){return ht})),n.d(e,"j",(function(){return vt})),n.d(e,"g",(function(){return _t})),n.d(e,"Z",(function(){return yt})),n.d(e,"X",(function(){return wt})),n.d(e,"bb",(function(){return Lt})),n.d(e,"Y",(function(){return kt})),n.d(e,"ab",(function(){return xt})),n.d(e,"Q",(function(){return Vt})),n.d(e,"qb",(function(){return St})),n.d(e,"pb",(function(){return Ct})),n.d(e,"nb",(function(){return $t})),n.d(e,"rb",(function(){return Ft})),n.d(e,"V",(function(){return Tt})),n.d(e,"mb",(function(){return Dt})),n.d(e,"ob",(function(){return zt})),n.d(e,"lb",(function(){return Ot})),n.d(e,"hb",(function(){return jt})),n.d(e,"jb",(function(){return Pt})),n.d(e,"ib",(function(){return At})),n.d(e,"cb",(function(){return Yt})),n.d(e,"U",(function(){return Mt})),n.d(e,"fb",(function(){return Nt})),n.d(e,"kb",(function(){return Et})),n.d(e,"gb",(function(){return It}));var a=n("0c6d");function r(t){return a["a"].get("/store/coupon/platformLst",t)}function i(t){return a["a"].get("/store/coupon/update/".concat(t,"/form"))}function o(t){return a["a"].get("/store/coupon/show/".concat(t))}function s(t){return a["a"].delete("store/coupon/delete/".concat(t))}function c(t){return a["a"].get("/store/coupon/sys/clone/".concat(t,"/form"))}function l(t){return a["a"].get("store/coupon/sys/issue",t)}function u(t,e){return a["a"].get("store/coupon/show_lst/".concat(t),e)}function d(t){return a["a"].get("/store/coupon/send/lst",t)}function f(t){return a["a"].post("store/coupon/send",t)}function m(t){return a["a"].get("store/coupon/detail/".concat(t))}function p(t){return a["a"].get("store/coupon/lst",t)}function b(t,e){return a["a"].post("store/coupon/status/".concat(t),{status:e})}function g(){return a["a"].get("store/coupon/create/form")}function h(t){return a["a"].get("store/coupon/issue",t)}function v(t){return a["a"].delete("store/coupon/delete/".concat(t))}function _(t){return a["a"].get("broadcast/room/lst",t)}function y(t,e){return a["a"].post("broadcast/room/status/".concat(t),e)}function w(t){return a["a"].delete("broadcast/room/delete/".concat(t))}function L(t){return a["a"].get("broadcast/room/apply/form/".concat(t))}function k(t){return a["a"].get("broadcast/room/detail/".concat(t))}function x(t,e){return a["a"].post("broadcast/room/feedsPublic/".concat(t),{status:e})}function V(t,e){return a["a"].post("broadcast/room/comment/".concat(t),{status:e})}function S(t,e){return a["a"].post("broadcast/room/closeKf/".concat(t),{status:e})}function C(t){return a["a"].get("broadcast/goods/lst",t)}function $(t){return a["a"].get("broadcast/goods/detail/".concat(t))}function F(t,e){return a["a"].post("broadcast/goods/status/".concat(t),e)}function T(t){return a["a"].get("broadcast/goods/apply/form/".concat(t))}function D(){return a["a"].get("seckill/config/create/form")}function z(t){return a["a"].get("seckill/config/lst",t)}function O(t){return a["a"].get("seckill/config/update/".concat(t,"/form"))}function j(t){return a["a"].delete("seckill/config/delete/".concat(t))}function P(t,e){return a["a"].post("seckill/config/status/".concat(t),{status:e})}function A(t,e){return a["a"].get("seckill/product/detail/".concat(t),e)}function Y(t,e){return a["a"].get("broadcast/room/goods/".concat(t),e)}function M(t){return a["a"].delete("broadcast/goods/delete/".concat(t))}function N(t,e){return a["a"].post("broadcast/room/sort/".concat(t),e)}function E(t,e){return a["a"].post("broadcast/goods/sort/".concat(t),e)}function I(t){return a["a"].post("config/others/group_buying",t)}function W(){return a["a"].get("config/others/group_buying")}function H(t){return a["a"].get("store/product/group/lst",t)}function B(t){return a["a"].get("store/product/group/get/".concat(t))}function R(t){return a["a"].get("store/product/group/detail/".concat(t))}function G(t){return a["a"].post("store/product/group/status",t)}function U(t,e){return a["a"].post("store/product/group/is_show/".concat(t),{status:e})}function q(t){return a["a"].get("store/product/group/get/".concat(t))}function J(t,e){return a["a"].post("store/product/group/update/".concat(t),e)}function Q(t){return a["a"].get("store/product/group/buying/lst",t)}function K(t,e){return a["a"].get("store/product/group/buying/detail/".concat(t),e)}function X(t,e){return a["a"].get("store/coupon/product/".concat(t),e)}function Z(){return a["a"].get("user/integral/title")}function tt(t){return a["a"].get("user/integral/lst",t)}function et(t){return a["a"].get("user/integral/excel",t)}function nt(){return a["a"].get("user/integral/config")}function at(t){return a["a"].post("user/integral/config",t)}function rt(t){return a["a"].get("discounts/lst",t)}function it(t,e){return a["a"].post("discounts/status/".concat(t),{status:e})}function ot(t){return a["a"].get("discounts/detail/".concat(t))}function st(t){return a["a"].get("marketing/spu/lst",t)}function ct(t){return a["a"].post("activity/atmosphere/create",t)}function lt(t,e){return a["a"].post("activity/atmosphere/update/".concat(t),e)}function ut(t){return a["a"].get("activity/atmosphere/lst",t)}function dt(t){return a["a"].get("activity/atmosphere/detail/".concat(t))}function ft(t,e){return a["a"].post("activity/atmosphere/status/".concat(t),{status:e})}function mt(t){return a["a"].delete("activity/atmosphere/delete/".concat(t))}function pt(t){return a["a"].post("activity/border/create",t)}function bt(t,e){return a["a"].post("activity/border/update/".concat(t),e)}function gt(t){return a["a"].get("activity/border/lst",t)}function ht(t){return a["a"].get("activity/border/detail/".concat(t))}function vt(t,e){return a["a"].post("activity/border/status/".concat(t),{status:e})}function _t(t){return a["a"].delete("activity/border/delete/".concat(t))}function yt(){return a["a"].get("points/cate/lst")}function wt(){return a["a"].get("points/cate/create/form")}function Lt(t){return a["a"].get("points/cate/update/form/".concat(t))}function kt(t){return a["a"].delete("points/cate/delete/".concat(t))}function xt(t,e){return a["a"].post("points/cate/status/".concat(t),{status:e})}function Vt(t){return a["a"].post("points/product/create",t)}function St(t,e){return a["a"].post("points/product/update/".concat(t),e)}function Ct(t){return a["a"].get("points/product/lst",t)}function $t(t){return a["a"].delete("points/product/delete/".concat(t))}function Ft(t,e){return a["a"].post("points/product/status/".concat(t),{status:e})}function Tt(t,e){return a["a"].post("points/product/get_attr_value/".concat(t),e)}function Dt(){return a["a"].get("points/cate/select")}function zt(t){return a["a"].get("points/product/detail/".concat(t))}function Ot(t){return a["a"].get("points/order/lst",t)}function jt(t){return a["a"].get("points/order/detail/".concat(t))}function Pt(t){return a["a"].get("points/order/express/".concat(t))}function At(t){return a["a"].get("points/order/excel",t)}function Yt(t,e){return a["a"].post("points/order/delivery/".concat(t),e)}function Mt(t){return a["a"].get("store/express/options",t)}function Nt(t){return a["a"].get("points/order/mark/".concat(t,"/form"))}function Et(t,e){return a["a"].get("points/order/status/".concat(t),e)}function It(t){return a["a"].delete("points/order/delete/".concat(t))}},ecc0:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.dialogVisible?n("el-dialog",{attrs:{title:"商品信息",visible:t.dialogVisible,width:"1000px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("div",{staticClass:"divBox"},[n("div",{staticClass:"header clearfix"},[n("div",{staticClass:"container"},[n("el-form",{attrs:{size:"small",inline:"","label-width":"100px"}},[n("el-form-item",{attrs:{label:"商品分类："}},[n("el-cascader",{staticClass:"selWidth",attrs:{options:t.categoryList,props:t.props,filterable:"",clearable:""},on:{change:function(e){return t.getList()}},model:{value:t.tableFrom.cate_id,callback:function(e){t.$set(t.tableFrom,"cate_id",e)},expression:"tableFrom.cate_id"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"商品标签："}},[n("el-select",{staticClass:"filter-item selWidth",attrs:{placeholder:"请选择",clearable:"",filterable:""},on:{change:function(e){return t.getList(1)}},model:{value:t.tableFrom.sys_labels,callback:function(e){t.$set(t.tableFrom,"sys_labels",e)},expression:"tableFrom.sys_labels"}},t._l(t.labelList,(function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),t._v(" "),n("el-form-item",{attrs:{label:"商户选择："}},[n("el-select",{staticClass:"selWidth",attrs:{placeholder:"请选择",clearable:"",multiple:"",filterable:""},on:{change:function(e){return t.getList(1)}},model:{value:t.tableFrom.mer_ids,callback:function(e){t.$set(t.tableFrom,"mer_ids",e)},expression:"tableFrom.mer_ids"}},t._l(t.merSelect,(function(t){return n("el-option",{key:t.mer_id,attrs:{label:t.mer_name,value:t.mer_name}})})),1)],1),t._v(" "),n("el-form-item",{attrs:{label:"商品搜索："}},[n("el-input",{staticClass:"selWidth",attrs:{placeholder:"请输入商品关键字",clearable:""},model:{value:t.tableFrom.keyword,callback:function(e){t.$set(t.tableFrom,"keyword",e)},expression:"tableFrom.keyword"}})],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){return t.getList(1)}}},[t._v("查询")])],1)],1)],1)]),t._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],ref:"mainTable",attrs:{data:t.tableData.data,"row-key":"spu_id",size:"small","max-height":"500"},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection","reserve-selection":!0,width:"55"}}),t._v(" "),n("el-table-column",{attrs:{label:"商品信息","min-width":"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"acea-row",staticStyle:{"align-items":"center"}},[n("div",{staticClass:"demo-image__preview"},[n("el-image",{staticStyle:{width:"36px",height:"36px"},attrs:{src:e.row.image,"preview-src-list":[e.row.image]}})],1),t._v(" "),n("div",{staticClass:"row_title line2"},[t._v(t._s(e.row.store_name))])])]}}],null,!1,1964586086)}),t._v(" "),n("el-table-column",{attrs:{prop:"merchant",label:"商户名称","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("span",[t._v(t._s(e.row.merchant.mer_name))])]}}],null,!1,2388555776)}),t._v(" "),n("el-table-column",{attrs:{prop:"price",label:"售价","min-width":"100"}})],1),t._v(" "),n("div",{staticClass:"acea-row row-between row-bottom"},[n("el-pagination",{attrs:{"page-sizes":[10,20,30],"page-size":t.tableFrom.limit,"current-page":t.tableFrom.page,layout:"total, sizes, prev, pager, next, jumper",total:t.tableData.total},on:{"size-change":t.handleSizeChange,"current-change":t.pageChange}}),t._v(" "),n("div",[n("el-button",{attrs:{size:"small"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("取消")]),t._v(" "),n("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.submitProduct}},[t._v("确定")])],1)],1)],1)]):t._e()},r=[],i=(n("ac6a"),n("75fc")),o=n("c4c8"),s=n("b7be"),c=n("83d6"),l={name:"GoodsList",props:{resellShow:{type:Boolean,default:!1}},data:function(){return{dialogVisible:!1,templateRadio:0,categoryList:[],merSelect:[],labelList:[],merList:[],options:[{value:"all",label:"所有页"},{value:"one",label:"当前页"}],roterPre:c["roterPre"],listLoading:!0,tableData:{data:[],total:0},tableFrom:{page:1,limit:10,cate_id:"",keyword:"",mer_ids:"",label_ids:[],type:21},mer_ids:[],props:{emitPath:!1},multipleSelection:[],checked:[],selectAllPage:!1}},mounted:function(){this.multipleSelection=[],this.getLabelLst(),this.getCategoryList(),this.getMerchantList(),this.getList("")},methods:{handleSelectionChange:function(t){this.multipleSelection=t},handleCommand:function(t){var e=this;this.selectAllPage=t,this.$nextTick((function(){e.$refs.mainTable.toggleAllSelection()}))},getCategoryList:function(){var t=this;Object(o["w"])({type:1}).then((function(e){t.categoryList=e.data})).catch((function(e){t.$message.error(e.message)}))},getMerchantList:function(){var t=this;Object(o["Q"])().then((function(e){t.merSelect=e.data})).catch((function(e){t.$message.error(e.message)}))},getLabelLst:function(){var t=this;Object(o["A"])().then((function(e){t.labelList=e.data})).catch((function(e){t.$message.error(e.message)}))},getList:function(t){var e=this;this.listLoading=!0,this.tableFrom.page=t||this.tableFrom.page,Object(s["Ib"])(this.tableFrom).then((function(t){var n;(e.tableData.data=t.data.list,e.tableData.total=t.data.count,"all"==e.selectAllPage)&&((n=e.multipleSelection).push.apply(n,Object(i["a"])(e.tableData.data)),e.multipleSelection.forEach((function(t){e.$refs.mainTable.toggleAllSelection()})));e.listLoading=!1})).catch((function(t){e.listLoading=!1,e.$message.error(t.message)}))},submitProduct:function(){var t=this.multipleSelection.map((function(t){return t.spu_id}));this.$emit("onSelectList",t),this.$refs.mainTable.clearSelection(),this.dialogVisible=!1},pageChange:function(t){this.tableFrom.page=t,this.getList("")},handleSizeChange:function(t){this.tableFrom.limit=t,this.getList("")}}},u=l,d=(n("0f9b"),n("2877")),f=Object(d["a"])(u,a,r,!1,null,"4ac36eb8",null);e["a"]=f.exports}}]);